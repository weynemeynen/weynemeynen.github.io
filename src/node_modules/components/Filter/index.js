import React, { useEffect, useRef } from 'react'

import Details from 'plugins/plugin-details'

export default function Filter({ language, onFilter }) {
  const refDetails = useRef(null)

  useEffect(() => {
    const details = new Details(refDetails.current, {
      placeholder: 'Язык',
      data: [
        { id: '1', value: 'All' },
        { id: '2', value: 'JavaScript' },
        { id: '3', value: 'HTML' },
        { id: '4', value: 'CSS' }
      ],
      selectedValue: 'All',
      onSelect(item) {
        onFilter(item.value)
      }
    })
    details.select(language);
  }, [])

  return (
    <fieldset className='filter col-sm-4 col-md-3 pe-sm-0'>
      <div className='row justify-content-end gx-1 h-100'>
        <details ref={refDetails} className='col-auto col-sm-12 h-100' />
      </div>
    </fieldset>
  )
}