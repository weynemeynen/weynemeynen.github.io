import React, { useEffect, useRef, useState } from 'react'

import Details from 'plugins/plugin-details'

export default function Filter({ language, langs, onFilter }) {
  const refDetails = useRef(null)

  useEffect(() => {
    const details = new Details(refDetails.current, {
      placeholder: 'Язык',
      // data: ['All', 'JavaScript', 'HTML', 'CSS'],
      data: langs,
      selectedValue: 'All',
      onSelect(item) {
        onFilter(item)
      }
    })
    details.select(language);
  }, [langs, language, onFilter])

  return (
    <fieldset className='filter col-auto'>
      <div className='row justify-content-end gx-1 h-100'>
        <details ref={refDetails} className='col-auto col-sm-12 h-100' />
      </div>
    </fieldset>
  )
}