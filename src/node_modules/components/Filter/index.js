import React, { useEffect, useRef } from 'react'

import Details from 'plugins/plugin-details'

export default function Filter({ language, onFilter, languages }) {

  const refDetails = useRef(null)

  useEffect(() => {
    const details = new Details(refDetails.current, {
      placeholder: 'Язык',
      // data: ['All', 'JavaScript', 'HTML', 'CSS'],
      data: languages,
      selectedValue: language,
      onSelect(item) {
        onFilter(item)
      }
    })
    details.select(language);
  }, [language, onFilter, languages])

  return (
    <fieldset className='filter col-auto ps-1 ps-sm-2'>
      <div className='row justify-content-end gx-1 h-100'>
        <details ref={refDetails} className='col-auto col-sm-12 h-100' />
      </div>
    </fieldset>
  )
}