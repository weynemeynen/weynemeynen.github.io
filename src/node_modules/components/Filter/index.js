import React, { useState, useEffect, useRef } from 'react'

import Details from 'plugins/plugin-details'

export default function Filter() {
  const refDetails = useRef(null)
  const [selected, setSelected] = useState('')
  console.log(selected)

  useEffect(() => {
    const details = new Details(refDetails.current, {
      placeholder: 'Language',
      data: [
        { id: '0', value: 'JavaScript' },
        { id: '1', value: 'HTML' },
        { id: '2', value: 'CSS' }
      ],
      selectedValue: 'JavaScript',
      onSelect(item) {
        setSelected(item.value)
      }
    })
    details.select('JavaScript');
  }, [])

  return (
    <fieldset className='filter col-sm-4 col-md-3 pe-sm-0'>
      <div className='row justify-content-end gx-1 h-100'>
        <details ref={refDetails} className='col-auto col-sm-12 h-100' />
      </div>
    </fieldset>
  )
}