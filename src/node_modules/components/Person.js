import React, { useEffect, useContext } from 'react'

import { ThemeContext } from 'contexts'

import { useFetch } from 'hooks/useFetch'

export default function Person() {
  const [theme,] = useContext(ThemeContext)
  const apiUrl = '/users/weynemeynen'
  const [{ response: user, isLoading }, doFetch] = useFetch(apiUrl)

  useEffect(() => {
    doFetch()
  }, [doFetch])

  const borderColor = theme === 'dark' ? 'border-secondary' : ''

  return (
    <div className='row'>
      <div className="col-3 col-sm-12 pe-0 pe-sm-3">
        <img src={user.avatar_url}
          className={`img-fluid rounded-circle mb-4 border ${borderColor}`}
          alt={user.name} />
      </div>
      <div className="col-9 col-sm-12">
        <h1>
          <div itemProp="name" className='fs-2'>{user.name}</div>
          <div itemProp="additionalName" className={`fs-5 fw-light`}>{user.login}</div>
        </h1>
        <ul className={`list-unstyled`}>
          <li>
            <i className="bi bi-building d-inline-block text-center" style={{ width: '20px' }}></i>
            <small>{user.company}</small>
          </li>
          <li>
            <i className="bi bi-geo-alt d-inline-block text-center" style={{ width: '20px' }}></i>
            <small>{user.location}</small>
          </li>
          <li className="text-truncate">
            <i className="bi bi-link-45deg d-inline-block text-center" style={{ width: '20px' }}></i>
            <a href={user.blog} className="text-decoration-none text-reset"><small>{user.blog}</small></a>
          </li>
        </ul>
      </div>
    </div>
  )
}