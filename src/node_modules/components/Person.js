import React, { useEffect, useContext } from 'react'

import { ThemeContext } from 'contexts'

import { useFetch } from 'hooks/useFetch'

export default function Person() {
  const [theme,] = useContext(ThemeContext)
  const apiUrl = '/users/weynemeynen'
  const [{ response, isLoading }, doFetch] = useFetch(apiUrl)

  useEffect(() => {
    doFetch()
  }, [doFetch])

  const borderColor = theme === 'dark' ? 'border-secondary' : ''
  const { avatar_url, name, company, location, blog, login } = response

  return (
    <div className='row'>
      <div className="col-3 col-sm-12 px-md-4">
        <img src={avatar_url}
          className={`img-fluid rounded-circle mb-4 border ${borderColor}`}
          alt={name} />
      </div>
      <div className="col-9 col-sm-12 px-md-4">
        <h1>
          <div itemProp="name" className='fs-2'>{name}</div>
          <div itemProp="additionalName" className={`fs-5 fw-light`}>{login}</div>
        </h1>
        <ul className={`list-unstyled`}>
          <li>
            <i className="bi bi-building d-inline-block text-center" style={{ width: '20px' }}></i>
            <small>{company}</small>
          </li>
          <li>
            <i className="bi bi-geo-alt d-inline-block text-center" style={{ width: '20px' }}></i>
            <small>{location}</small>
          </li>
          <li className="text-truncate">
            <i className="bi bi-link-45deg d-inline-block text-center" style={{ width: '20px' }}></i>
            <a href={blog} className="text-decoration-none text-reset"><small>{blog}</small></a>
          </li>
        </ul>
      </div>
    </div>
  )
}