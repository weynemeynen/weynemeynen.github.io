import React, { useContext } from 'react'
import { NavLink } from 'react-router-dom'
import classNames from 'classnames'

import {ThemeContext, LIGHT, DARK} from 'contexts'

import './toggler.css'

export default function Toggler({ repoName }) {
  const [theme,] = useContext(ThemeContext)
  console.log(theme)

  const navLinkColor = theme === DARK ? 'var(--my-silver)' : 'var(--bs-secondary)'

  const selected = classNames('border-bottom', 'border-2', 'border-warning', {
    [`text-${DARK}`]: theme === LIGHT,
    [`text-${LIGHT}`]: theme === DARK,
  })

  return (
    <nav className="toggler nav position-relative">
      <NavLink to='/overview' className='nav-link' activeClassName={selected} style={{color: navLinkColor}}>
      <i className='bi-book me-2'></i>
        Обзор
      </NavLink>
      <NavLink to='/repositories' className='nav-link' activeClassName={selected} style={{color: navLinkColor}}>
      <i className='bi-journal-code me-2'></i>
      Репозитории
      </NavLink>
      {repoName && (
        <NavLink to={`/repos/${repoName}`} className='nav-link' activeClassName={selected} style={{color: navLinkColor}}>
          {repoName}
        </NavLink>
      )}
      <NavLink to='/projects' className='nav-link' activeClassName={selected} style={{color: 'var(--bs-secondary)'}}>
      <i class="bi-kanban me-2"></i>
        Проекты
      </NavLink>
    </nav>
  )
}