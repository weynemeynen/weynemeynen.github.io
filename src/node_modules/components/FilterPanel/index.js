import React, { useState, useEffect, useContext, useRef } from 'react'
import classnames from 'classnames'

import { ThemeContext, DARK, LIGHT } from 'contexts'

import Search from 'components/Search'
import Filter from 'components/Filter'

export default function FilterPanel({ term, handlerSearchTerm, language, langs, onFilter }) {
  const [theme,] = useContext(ThemeContext)

  const borderColor = classnames({
    'border-secondary': theme === DARK
  })

  return (
    <form className={`filter-panel row gx-sm-3 py-3 border-bottom ${borderColor}`} onSubmit={(e) => e.preventDefault()}>
      <Search term={term} handlerSearchTerm={handlerSearchTerm} />
      <Filter language={language} langs={langs} onFilter={onFilter} />
    </form>
  )
}