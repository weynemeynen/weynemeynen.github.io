import React, { useContext } from 'react'
import classnames from 'classnames'
import { ThemeContext, DARK, LIGHT } from 'contexts'

export default function Search({ term, handlerSearchTerm }) {
  const [theme,] = useContext(ThemeContext)

  const inputColor = classnames('form-control', 'form-control-sm', 'rounded-3', 'bg-transparent', {
    'border-secondary': theme === DARK,
    [`text-${LIGHT}`]: theme === DARK
  })

  let caretColor = theme === DARK ? LIGHT : ''

  return (
    <fieldset className='search col-auto flex-fill pe-0 pe-md-2 ps-sm-0'>
      <input
        type="search"
        className={inputColor}
        style={{ caretColor: caretColor }}
        placeholder='Найти репозиторий…'
        value={term}
        onChange={handlerSearchTerm}
      />
    </fieldset>
  )
}